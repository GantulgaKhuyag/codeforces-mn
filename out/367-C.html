<h1 id="серёжа-ба-тоон-байрлуулалт">Серёжа ба тоон байрлуулалт</h1>
<p>Сережё <span class="math"><em>n</em></span> элементтэй <span class="math"><em>a</em><sub>1</sub>, <em>a</em><sub>2</sub>, . . . , <em>a</em><sub><em>n</em></sub></span> дарааллийг дараах нөхцлүүдийг хангаж байвал <code>үзэсгэлэнтэй</code> гэж боддог. Үүнд:</p>
<ul>
<li><span class="math"><em>x</em>, <em>y</em></span> (<span class="math"><em>x</em> ≠ <em>y</em></span>) хос тоо бүрийн хувьд <span class="math"><em>x</em></span> нь ч <span class="math"><em>y</em></span> нь ч <span class="math"><em>a</em></span>-д агуулагддаг</li>
<li><span class="math"><em>x</em>, <em>y</em></span> хос бүрийн хувьд <span class="math"><em>a</em><sub><em>j</em></sub> = <em>x</em></span>, <span class="math"><em>a</em><sub><em>j</em> + 1</sub> = <em>y</em></span>, эсвэл <span class="math"><em>a</em><sub><em>j</em></sub> = <em>y</em></span>, <span class="math"><em>a</em><sub><em>j</em> + 1</sub> = <em>x</em><sub><em>j</em></sub></span> нөхцлийн ядаж нэг нь хангагдах <span class="math"><em>j</em></span> (<span class="math">1 ≤ <em>j</em> &lt; <em>n</em></span>) олддог байх</li>
</ul>
<p>Серёжа <span class="math"><em>n</em></span> элеменнтэй <code>үзэсгэлэнтэй</code> олонлог үүсгэхийг хүссэн. Серёжагийн найз Димад нийт <span class="math"><em>m</em></span> тасалбар байгаа. Тасалбар бүр <span class="math"><em>q</em><sub><em>i</em></sub>, <em>w</em><sub><em>i</em></sub></span> тоог агуулдаг. <span class="math"><em>i</em></span>-р тасалбар <span class="math"><em>w</em><sub><em>i</em></sub></span> үнэтэй бөгөөд танд <span class="math"><em>a</em></span> дараалалдаа <span class="math"><em>q</em><sub><em>i</em></sub></span> тоог хүссэн удаа ашиглах боломжыг олгоно. <span class="math"><em>q</em><sub><em>i</em></sub></span> утгууд бүгд хоорондоо ялгаатай. Серёжад ганц ч тасалбар байхгүй тул Диматай дараах наймааг хийх гэж байна. Дима <span class="math"><em>n</em></span> элементтэй үзэсгэлэнтэй олонлог үүсгээд, түүнд оролцсон <span class="math"><em>q</em><sub><em>i</em></sub></span> болгонд Серёжагаас <span class="math"><em>w</em><sub><em>i</em></sub></span> рубль авна. Одоо тэд тохиролцоонд хүрсэн бөгөөд Серёжа найздаа төлж чадах хамгийн их мөнгөн дүнг олохыг хүсч байгаа.</p>
<p>Серёжагийн төлөх боломжит хамгийн их мөнгөн дүнг олно уу.</p>
<h3 id="оролт">Оролт</h3>
<p>Эхний мөрөнд <span class="math"><em>n</em></span>, <span class="math"><em>m</em></span> (<span class="math">1 ≤ <em>n</em> ≤ 2·10<sup>6</sup></span>, <span class="math">1 ≤ <em>m</em> ≤ 10<sup>5</sup></span>) өгөгдөнө. Дараагийн <span class="math"><em>m</em></span> мөр бүрт <span class="math"><em>q</em><sub><em>i</em></sub>, <em>w</em><sub><em>i</em></sub></span> (<span class="math">1 ≤ <em>q</em><sub><em>i</em></sub>, <em>w</em><sub><em>i</em></sub> ≤ 10<sup>5</sup></span>) байна. Бүх <span class="math"><em>q</em><sub><em>i</em></sub></span> нь хоорондоо ялгаатай болно.</p>
<h3 id="гаралт">Гаралт</h3>
<p>Нэг мөрөнд Серёжагийн төлж чадах хамгийн их мөнгөн дүнг хэвлэнэ үү.</p>
<p>C++ хэл дээр 64-битийн тоо хэрэглэх үед %lld-г хэрэглэхгүй байхыг зөвлөж байна. %I64d, эсвэл cin, cout стриймийг ашиглана уу.</p>
<p class="credit" style="text-align:right;font-style:italic">Орчуулсан: zoloogg</p>