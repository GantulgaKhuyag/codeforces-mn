<h1 id="эмх-цэгц">Эмх цэгц</h1>
<p>Саймон эмх цэгцтэй байх дуртай. Тиймээс унтахаасаа өмнө гэрийн аливаа ажлаа гүйцээхийг хүсдэг.</p>
<p>Саймоны гэр дээрээсээ <span class="math"><em>n</em></span> мөр <span class="math"><em>m</em></span> баганатай тэгш өнцөгт хүснэгт шиг харагддаг. Хүснэгтийн бүх мөрүүд дээрээсээ доош <span class="math">1</span>-ээс <span class="math"><em>n</em></span> хүртэл дугаарлагдсан, баганууд нь зүүнээсээ баруун луу <span class="math">1</span>-ээс <span class="math"><em>n</em></span> хүртэл дугаарлагдсан болно. Хүснэгтийн нүд бүр нь өрөө юм. <span class="math"><em>x</em></span> дүгээр мөр <span class="math"><em>y</em></span> дүгээр баганы огтлолцод байрлах өрөөг (<span class="math"><em>x</em>, <em>y</em></span>) хосоор тэмдэглэнэ. Өрөө бүрийн хувьд гэрэл асаалттай эсвэл унтраастай байгааг бид мэднэ.</p>
<p>Одоогоор Саймон (<span class="math"><em>x</em><sub>0</sub>, <em>y</em><sub>0</sub></span>) өрөөнд байна. Тэр байшин дахь бүх өрөөний гэрлүүдийг унтраагаад (<span class="math"><em>x</em><sub>0</sub>, <em>y</em><sub>0</sub></span>) өрөөнд буцаж ирэхийг хүснэ. Саймонийг яг одоо (<span class="math"><em>x</em>, <em>y</em></span>) өрөөнд байна гэж үзье. Хүссэн үр дүндээ хүрэхийн тулд тэр дараах алхмуудыг хийж чадна.</p>
<ol style="list-style-type: decimal">
<li>“1” хэлбэрийн үйлдлийг хийж (<span class="math"><em>x</em>, <em>y</em></span>) өрөөний гэрлийг асаана. Саймон өрөөний гэрэл асаалттай байвал энэ үйлдлийг хийж чадахгүй.</li>
<li>“2” хэлбэрийн үйлдлийг хийж (<span class="math"><em>x</em>, <em>y</em></span>) өрөөний гэрлийг унтраана. Саймон өрөөний гэрэл унтраастай байвал энэ үйлдлийг хийж чадахгүй.</li>
<li>“<span class="math"><em>d</em><em>i</em><em>r</em></span>” хэлбэрийн үйлдлийг хийж <span class="math"><em>d</em><em>i</em><em>r</em></span> чиглэлийн зэргэлдээ байрлалтай өрөө лүү орно. Чиглэл зүүн, баруун, дээш эсвэл доош байна (харгалзах <span class="math"><em>d</em><em>i</em><em>r</em></span> <span class="math"><em>L</em></span>, <span class="math"><em>R</em></span>, <span class="math"><em>U</em></span>, эсвэл <span class="math"><em>D</em></span> байна). Нэмж хэлэхэд, Саймон <span class="math"><em>d</em><em>i</em><em>r</em></span> чиглэлд гэрэл харагдаж байгаа нөхцөлд л хөдлөнө. Хэрэв бид Саймоны явахыг хүсч байгаа өрөөг (<span class="math"><em>n</em><em>x</em>, <em>n</em><em>y</em></span>) гэж тэмдэглэвэл бидэнд байшингийн гэрэлтэй өрөөний тоо (<span class="math"><em>x</em> + (<em>n</em><em>x</em> − <em>x</em>)<em>k</em>, <em>y</em> + (<em>n</em><em>y</em> − <em>y</em>)<em>k</em></span>) байх <span class="math"><em>k</em></span> (<span class="math"><em>k</em> &gt; 0</span>) бүхэл тоо байх ёстой. Мэдээж Саймон байшингаас гарч болохгүй.</li>
</ol>
<p>Саймонд хүссэн үр дүндээ хүрэхэд хийх үйлдлүүдийн дарааллыг олоход туслаарай.</p>
<h3 id="оролт">Оролт</h3>
<p>Эхний мөрөнд <span class="math"><em>n</em></span>, <span class="math"><em>x</em><sub>0</sub></span>, <span class="math"><em>y</em><sub>0</sub></span> (<span class="math">2 ≤ <em>n</em> ≤ 500</span>, <span class="math">1 ≤ <em>x</em><sub>0</sub>, <em>y</em><sub>0</sub> ≤ <em>n</em></span>) 3 ширхэг бүхэл тоо байна.</p>
<p>Дараагийн <span class="math"><em>n</em></span> мөрүүд байшингийн өрөөнүүдийн тодорхойлолтуудыг агуулна. <span class="math"><em>i</em></span> дүгээр мөр <span class="math"><em>n</em></span> ширхэг хоосон зайгаар тусгаарлагдсан <span class="math"><em>a</em><sub><em>i</em>1</sub>, <em>a</em><sub><em>i</em>2</sub>, . . . , <em>a</em><sub><em>i</em><em>n</em></sub></span> бүхэл тоонуудыг агуулна. Хэрэв <span class="math"><em>a</em><sub><em>i</em><em>j</em></sub></span> тоо <span class="math">0</span> байвал (<span class="math"><em>i</em>, <em>j</em></span>) өрөөний гэрэл унтраастай байна гэсэн үг ба <span class="math"><em>а</em><sub><em>i</em><em>j</em></sub></span> нь <span class="math">1</span>-тэй тэнцүү байвал гэрэл асаалттай байна гэсэн үг. Дор хаяж нэг өрөөний гэрэл асаалттай байгаа нь баталгаатай болно.</p>
<h3 id="гаралт">Гаралт</h3>
<p>Хэрэв бүх гэрлийг унтраах боломжит дараалал байхгүй байвал “NO” гэж хэвлэнэ (хашилтгүй). Өөр тохиолдолд “YES” гэж хэвлэх (хашилтгүй) ба нөхцлийг хангасан үйлдлүүдийн дарааллыг тэмдэгт мөрөөр хэвлэнэ. Та хамгийн богино үйлдлийн дарааллыг олох шаардлагагүй, тэгэхдээ <span class="math">3·10<sup>6</sup></span>-с олон үйлдлэл хийлгэх хэрэггүй.</p>

<p class="math" style="text-align:right;font-style:italic">Орчуулсан: Энхдүүрэн</p>