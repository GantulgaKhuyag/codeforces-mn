<h1 id="хөгжилтэйгээр-салютыг-үзэцгээе">Хөгжилтэйгээр салютыг үзэцгээе</h1>
<p>Энэ жилийн наадам хотын төв гудамжинд явагдах аж. Төв гудамж <span class="math"><em>n</em></span> хэсэгтэй бөгөөд хэсгүүдийг <span class="math">1</span>-с эхэлж <span class="math"><em>n</em></span> хүртэл зүүнээс дугаарладаг. Зэрэгцээ хэсэг болгон хоорондоо <span class="math">1</span> зайтай.</p>
<p>Наадмын үеэр <span class="math"><em>m</em></span> салют буудна. <span class="math"><em>i</em></span>-р (<span class="math">1 ≤ <em>i</em> ≤ <em>m</em></span>) салтютийг <span class="math"><em>a</em><sub><em>i</em></sub></span>-р хэсгээс <span class="math"><em>t</em><sub><em>i</em></sub></span> хугацаанд харвана. Хэрвээ та <span class="math"><em>i</em></span>-р салютийг буудах үед <span class="math"><em>x</em></span> (<span class="math">1 ≤ <em>x</em> ≤ <em>n</em></span>) хэсэгт байх юм бол <span class="math"><em>b</em><sub><em>i</em></sub> − ∣<em>a</em><sub><em>i</em></sub> − <em>x</em>∣</span> аз жаргал авна. (аз жаргал сөрөг байж болохыг анхаар)</p>
<p>Та нэгж хугацаанд хамгийн ихдээ <span class="math"><em>d</em></span> зайг туулж чаддаг ба төв гудамжнаас гарч явахыг хориглосон. Мөн хугацааны 1-р агшинд аль ч хэсэгт байж чадах ба галт наадмаас хамгийн их аз жаргалыг авахыг хүсч байгаа. Уг хамгийн их аз жаргалын хэмжээг ол.</p>
<p>2 салют зэрэг харваж болохыг анхаараарай.</p>
<h3 id="оролт">Оролт</h3>
<p>Эхний мөрөнд <span class="math"><em>n</em></span>, <span class="math"><em>m</em></span>, <span class="math"><em>d</em></span> (<span class="math">1 ≤ <em>n</em> ≤ 150000</span>, <span class="math">1 ≤ <em>m</em> ≤ 300</span>, <span class="math">1 ≤ <em>d</em> ≤ <em>n</em></span>) өгөгдөнө.</p>
<p>Дараагийн <span class="math"><em>m</em></span> мөр бүрт <span class="math"><em>i</em></span>-р салютын мэдээлэл <span class="math"><em>a</em><sub><em>i</em></sub></span>, <span class="math"><em>b</em><sub><em>i</em></sub></span>, <span class="math"><em>t</em><sub><em>i</em></sub></span> (<span class="math">1 ≤ <em>a</em><sub><em>i</em></sub> ≤ <em>n</em></span>, <span class="math">1 ≤ <em>b</em><sub><em>i</em></sub> ≤ 10<sup>9</sup></span>, <span class="math">1 ≤ <em>t</em><sub><em>i</em></sub> ≤ 10<sup>9</sup></span>) байна.</p>
<p><span class="math"><em>t</em><sub><em>i</em></sub> ≤ <em>t</em><sub><em>i</em> + 1</sub></span> (<span class="math">1 ≤ <em>i</em> &lt; <em>m</em></span>) нөхцөл үргэлж биелэнэ.</p>
<h3 id="гаралт">Гаралт</h3>
<p>Бүх салютыг үзэх үед авч чадах хамгийн их аз жаргал болох бүхэл тоог хэвлэнэ.</p>
<p>Жич: C++ хэл дээр 64-битийн тоо хэрэглэх үед %lld-г хэрэглэхгүй байхыг зөвлөж байна. %I64d, эсвэл cin, cout стриймийг ашиглана уу.</p>
<p style="text-align:right;font-style:italic">
Орчуулсан: zoloogg
</p>

