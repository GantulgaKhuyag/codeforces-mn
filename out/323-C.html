<h1 id="хоёр-сэлгэмэл">Хоёр сэлгэмэл</h1>
<p>Танд <span class="math"><em>n</em></span> элементтэй <span class="math"><em>p</em></span>, <span class="math"><em>q</em></span> сэлгэмэл болон <span class="math"><em>l</em><sub>1</sub></span>, <span class="math"><em>r</em><sub>1</sub></span>, <span class="math"><em>l</em><sub>2</sub></span>, <span class="math"><em>r</em><sub>2</sub></span> (<span class="math"><em>l</em><sub>1</sub> ≤ <em>r</em><sub>1</sub></span>; <span class="math"><em>l</em><sub>2</sub> ≤ <em>r</em><sub>2</sub></span>) хэлбэрийн <span class="math"><em>m</em></span> хүсэлт өгөгдсөн. Таны даалгавар бол <span class="math"><em>p</em></span> сэлгэмлийн хувьд <span class="math">[<em>l</em><sub>1</sub>, <em>r</em><sub>1</sub>]</span> (зах нь орно) хэсэгт байгаа тоонууд болон <span class="math"><em>q</em></span> <span class="math">[<em>l</em><sub>2</sub>, <em>r</em><sub>2</sub>]</span> (зах нь орно) хэсэгт байгаа тоонуудаас давхцаж байгаа тоо хэдэн ширхэг байгааг олох юм.</p>
<p><span class="math"><em>n</em></span> элементтэй сэлгэмэл гэдэг нь <span class="math"><em>n</em></span> ширхэг ялгаатай, бүх элементийн утга нь <span class="math">1</span>-с багагүй, <span class="math"><em>n</em></span>-с ихгүй байх тоон дараалал юм.</p>
<p><span class="math"><em>g</em><sub>1</sub>, <em>g</em><sub>2</sub>, . . . , <em>g</em><sub><em>n</em></sub></span> дараалалд байгаа <span class="math"><em>v</em></span> (<span class="math">1 ≤ <em>v</em> ≤ <em>n</em></span>) тооны байрлал нь <span class="math"><em>g</em><sub><em>i</em></sub> = <em>v</em></span> байх <span class="math"><em>i</em></span> индекс юм.</p>
<h3 id="оролт">Оролт</h3>
<p>Оролтын эхний мөрөнд <span class="math">2</span> сэлгэмлийн элементийн тоо <span class="math"><em>n</em></span> (<span class="math">1 ≤ <em>n</em> ≤ 10<sup>6</sup></span>) өгөгдөнө. Дараагийн мөрөнд <span class="math"><em>p</em></span> сэлгэмлийн элементүүд <span class="math"><em>p</em><sub>1</sub>, <em>p</em><sub>2</sub>, . . . , <em>p</em><sub><em>n</em></sub></span> (<span class="math">1 ≤ <em>p</em><sub><em>i</em></sub> ≤ <em>n</em></span>) байна. Гуравдугаар мөрөнд <span class="math"><em>q</em></span> сэлгэмлийн элементүүд <span class="math"><em>q</em><sub>1</sub>, <em>q</em><sub>2</sub>, . . . , <em>q</em><sub><em>n</em></sub></span> өгөгдөнө.</p>
<p>Дараагийн мөрөнд хүсэлтийн тоо <span class="math"><em>m</em></span> (<span class="math">1 ≤ <em>m</em> ≤ 2·10<sup>5</sup></span>).</p>
<p>Үүний дараа <span class="math"><em>m</em></span> мөр бүрт хүсэлтүүдийг тодорхойлох өгөгдөл байрлана. <span class="math"><em>i</em></span>-р мөрөнд <span class="math"><em>a</em></span>, <span class="math"><em>b</em></span>, <span class="math"><em>c</em></span>, <span class="math"><em>d</em></span> тоонууд өгөгдөх бөгөөд хүсэлтийн мэдээлэл болох <span class="math"><em>l</em><sub>1</sub>, <em>r</em><sub>1</sub></span>, <span class="math"><em>l</em><sub>2</sub></span>, <span class="math"><em>r</em><sub>2</sub></span>-г дараах байдлаар олно:</p>
<ul>
<li>Шинэ хувьсагч <span class="math"><em>x</em></span>-г тодорхойлно. Хэрвээ анхны хүсэлт бол утга нь <span class="math">0</span> байна. бусад тохиолдолд өмнөх хүсэлтэн дахь утгаасаа <span class="math">1</span>-р их байна.</li>
<li><span class="math"><em>f</em>(<em>z</em>) = ((<em>z</em> − 1 + <em>x</em>) <em>m</em><em>o</em><em>d</em> <em>n</em>) + 1</span> гэж тодорхойлъё.</li>
<li><span class="math"><em>l</em><sub>1</sub> = <em>m</em><em>i</em><em>n</em>(<em>f</em>(<em>a</em>), <em>f</em>(<em>b</em>))</span>, <span class="math"><em>r</em><sub>1</sub> = <em>m</em><em>a</em><em>x</em>(<em>f</em>(<em>a</em>), <em>f</em>(<em>b</em>))</span>, <span class="math"><em>l</em><sub>2</sub> = <em>m</em><em>i</em><em>n</em>(<em>f</em>(<em>c</em>), <em>f</em>(<em>d</em>))</span>, <span class="math"><em>r</em><sub>2</sub> = <em>m</em><em>a</em><em>x</em>(<em>f</em>(<em>c</em>), <em>f</em>(<em>d</em>))</span> тус тус байна.</li>
</ul>
<h3 id="гаралт">Гаралт</h3>
<p>Хүсэлт бүрийн хариуг нэр мөрөнд хэвлэ.</p>
<p class="math" style="text-align:right;font-style:italic">
Орчуулсан: zoloogg
</p>

