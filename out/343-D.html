<h1 id="усан-мод">Усан мод</h1>
<p>Галзуу эрдэмтэн Майк <span class="math"><em>n</em></span> орой бүхий өлгөгдсөн мод байгуулсан байна. Орой болгон нь ус агуулах сав болох ба энэхүү сав нь усаар дүүрсэн эсхүл хоосон байж болно.</p>
<p>Модыг <span class="math">1</span>-р оройгоос өлгөсөн ба модны орой нь <span class="math">1</span>-ээс <span class="math"><em>n</em></span> хүртэл дугаарлагдсан. Орой болгоны хүүхэд оройн ус агуулах сав нь тухайн оройн ус агуулах савны доор байрлах ба орой нь өөрийн холбогдсон хүүхэд болгонтой доош чиглэх ус дамжуулах хоолойгоор холбогдсон.</p>
<p>Майк дараах үйлдлүүдийг модонд хийхийг хүсч буй:</p>
<ol style="list-style-type: decimal">
<li><span class="math"><em>v</em></span> оройг усаар дүүргэнэ. Дараа нь <span class="math"><em>v</em></span> болон түүний бүх хүүхдийг нь усаар дүүрнэ.</li>
<li><span class="math"><em>v</em></span> оройг хоослох. Дараа нь <span class="math"><em>v</em></span> болоод түүний бүх эцэг орой нь хоосорно.</li>
<li>Яг энэ мөчид тухайн орой <span class="math"><em>v</em></span> усаар дүүрсэн байгаа эсэхийг тодорхойлох.</li>
</ol>
<p>Модны бүх оройн анхны төлөв нь хоосон байх болно.</p>
<p>Майк аль хэдийн хүсэлтээс түүний гүйцэтгэхийг хүссэн үйлдлүүдийн дарааллыг хөрвүүлчихсэн байгаа. Модыг туршилтанд оруулахаас өмнө Майк загварчлагдсан жагсаалтыг ажиллуулахаар шийдсэн. Бүх үйлдлийг гүйцэтгэсний дараа ямар үр дүн гарахыг нь тодорхойлоход түүнд тусална уу.</p>
<h3 id="оролт">Оролт</h3>
<p>Эхний мөрөнд модны оройн тоог илэрхийлэх <span class="math"><em>n</em></span> (<span class="math">1 ≤ <em>n</em> ≤ 500000</span>) тоо өгөгдөнө. Дараагийн <span class="math"><em>n</em> − 1</span> мөрөнд модны ирмэгийг илэрхийлэх <span class="math"><em>a</em><sub><em>i</em></sub>, <em>b</em><sub><em>i</em></sub></span> (<span class="math">1 ≤ <em>a</em><sub><em>i</em></sub>, <em>b</em><sub><em>i</em></sub> ≤ <em>n</em></span>, <span class="math"><em>a</em><sub><em>i</em></sub> ≠ <em>b</em><sub><em>i</em></sub></span>) хоёр тоо зайгаар тусгаарлагдан өгөгдөнө.</p>
<p>Дараагийн мөрөнд гүйцэтгэх үйлдлүүдийг илэрхийлэх <span class="math"><em>q</em></span> (<span class="math">1 ≤ <em>q</em> ≤ 500000</span>) тоо өгөгдөнө. <span class="math"><em>q</em></span> мөр тус бүрд <span class="math"><em>c</em><sub><em>i</em></sub></span> (<span class="math">1 ≤ <em>c</em><sub><em>i</em></sub> ≤ 3</span>), <span class="math"><em>v</em><sub><em>i</em></sub></span> (<span class="math">1 ≤ <em>v</em><sub><em>i</em></sub> ≤ <em>n</em></span>) хоёр тоо зайгаар тусгаарлагдан өгөгдөнө. <span class="math"><em>c</em><sub><em>i</em></sub></span> нь үйлдлийн төрөл (дээр өгөгдсөн үйлдлүүдийн дугаар) <span class="math"><em>v</em><sub><em>i</em></sub></span> нь үйлдэл гүйцэтгэгдсэн орой болно.</p>
<p>Өгөгдсөн граф нь мод болох нь баталгаатай.</p>
<h3 id="гаралт">Гаралт</h3>
<p><span class="math">3</span> гэсэн үйлдэл тус бүрд хэрэв орой нь дүүрэн бол <span class="math">1</span> эсхүл хоосон бол <span class="math">0</span>-ыг мөрөөр тусгаарлан хэвлэнэ үү. Оролтонд өгөгдсөн хүсэлтийн дарааллын дагуу хүсэлтийн хариуг нь хэвлээрэй.</p>
