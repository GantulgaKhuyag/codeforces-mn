<h1 id="эрдэнсийг-тойрох">Эрдэнсийг тойрох</h1>
<p>Чамд газрын зургийг тэгш өнцөгт хүснэгт хэлбэрээр өгсөн. Хүснэгтийн нүд бүр нь тодорхой үнэ бүхий эрдэнэс, тэсрэх бөмбөг эсвэл хоосон нүд байна. Мөн таны анх хаана байгаа нь өгөгдсөн.</p>
<p>Та хөрш нэг нүд рүүгээ нүүж болно. Гэхдээ газрын зурагнаас гарч болохгүй мөн эрдэнэстэй нүд нь дээр зогсож болохгүй. Эрдэнсийг авахын тулд та хаалттай зам барих шаардлагатай(эхлэл төгсгөл нь нэг нүд байх зам). Хаалттай зам нь ямар ч бомб дотроо агуулж болохгүй. Хаалттай замын дотор орсон эрднэсийн нийлбэр <span class="math"><em>v</em></span>-тэй тэнцүү мөн үүнийг барихын тулд <span class="math"><em>k</em></span> нүүдэл хийсэн гэж үзвэл энэ зам нь танд <span class="math"><em>v</em> − <em>k</em></span> ашиг өгнө.</p>
<p>Таны даалгавар бол дотроо бомб агуулаагүй хамгийн ашигтай хаалттай зам барих юм.</p>
<p>Жич зам нь өөрийгөө огтолж болно. Нүдийг хаалттай замын дотор эсвэл гадна оршиж байгааг дараах аргаар тодорхойлно:</p>
<ol style="list-style-type: decimal">
<li>Хүснэгтийн нүднүүдийг координатийн хавтгай дээр орших цэгүүд гэж авч үзнэ. (хүснэгтийн <span class="math"><em>i</em></span>-ийн <span class="math"><em>j</em></span> нүд нь координатын эхийн (<span class="math"><em>i</em>, <em>j</em></span>) цэгээр дээр байрлана). Ингэснээр хаалттай зам нь энэ цэгүүдээр дайран өнгөрөх олон өнцөгт болох юм.</li>
<li>Та <span class="math"><em>p</em></span> цэг нь олон өнцөгтийн дотор байгаа эсэхийг тодорхойлно.</li>
<li><span class="math"><em>p</em></span> цэгээс эхтэй хүснэгтийн аль ч цэгийг огтолдоггүй нэг шулуун татъя.</li>
<li>Татсан шулуун нь олон өнцөгтийг хэдэн удаа огтолж байгааг тоолоод хэрэв сондгой байвал <span class="math"><em>p</em></span> цэг нь хаалттай замын дотор тэгш байвал гадна байна гэж үзнэ.</li>
</ol>
<h3 id="оролт">Оролт</h3>
<p>Эхний мөрөнд хүснэгтийн хэмжээг тодорхойлох <span class="math"><em>n</em>, <em>m</em></span> (<span class="math">1 ≤ <em>n</em>, <em>m</em> ≤ 20</span>) хоёр тоо өгөгдөнө. Дараагийн <span class="math"><em>n</em></span> мөрөнд <span class="math"><em>m</em></span> тэмдэгт агуулах хүснэгт өгөгдөнө. Хүснэгтэнд:</p>
<ul>
<li>&quot;<span class="math"><em>B</em></span>&quot; үсэг нь бомбыг</li>
<li>&quot;<span class="math"><em>S</em></span>&quot; үсэг нь эхлэлийн цэгийг (хоосон нүд байна)</li>
<li>&quot;<span class="math"><em>c</em></span>&quot; (<span class="math">1 − 8</span>) тоо нь эрдэнсийг</li>
<li>&quot;.&quot; тэмдэг нь хоосон нүдийг</li>
<li>&quot;#&quot; тэмдэг нь саадыг</li>
</ul>
<p>тус тус илтгэнэ.</p>
<p>Хүснэгтийг <span class="math"><em>t</em></span> эрдэнэстэй гэж үзвэл. Дараагийн <span class="math"><em>t</em></span> мөрөнд <span class="math"><em>i</em></span> дахь эрднэсийн үнэ болох <span class="math"><em>c</em><sub><em>i</em></sub></span>-ууд тус бүр өгөгдөнө. Эрдэнэс нь бүгд 1-ээс <span class="math"><em>t</em></span> хүртэл дугаарлагдсан байна. Мөн хамгийн ихдээ 8 биет байх боломжтой. Биет гэдэг нь эрдэнэс эсвэл бомб байна. Хүснэгтэнд ганцхан &quot;<span class="math"><em>S</em></span>&quot; үсэг байх нь баталгаатай.</p>
<h3 id="гаралт">Гаралт</h3>
<p>Таны олж чадах хамгийн их ашиг.</p>
<p class="math" style="text-align:right;font-style:italic">
Орчуулсан: Энхсанаа
</p>

